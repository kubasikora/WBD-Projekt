\documentclass{mwrep}[15pt]

% Polskie znaki
\usepackage{polski}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{indentfirst}

% Strona tytułowa
\usepackage{pgfplots}
\usepackage{siunitx}
\usepackage{paracol}

% Pływające obrazki
\usepackage{float}
\usepackage{svg}
\usepackage{graphicx}

% table of contents refs
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{booktabs}
\usepackage{listings}




\SendSettingsToPgf
\title{\bf System biurowych zakładów wzajemnych \vskip 0.1cm}
\author{Robert Wojtaś \and Jakub Sikora}
\date{\today}
\pgfplotsset{compat=1.15}	
\begin{document}

\makeatletter
\renewcommand{\maketitle}{\begin{titlepage}
		\begin{center}{
				\LARGE {\bf Politechnika Warszawska}}\\
			\vspace{0.4cm}
			{\LARGE {\bf Wydział Elektroniki i Technik Informacyjnych}}\\
			\vspace{5cm}
			{\bf \LARGE \mbox{Wprowadzenie do Baz Danych - Projekt} \vskip 0.1cm}
		\end{center}
		\vspace{0.1cm}

		\begin{center}
			{\bf \LARGE \@title}
		\end{center}

		\vspace{10cm}
		\begin{paracol}{2}
			\addtocontents{toc}{\protect\setcounter{tocdepth}{1}}
			\subsection*{Zdający:}
			\bf{ \Large{ \noindent\@author \par}}
			\addtocontents{toc}{\protect\setcounter{tocdepth}{2}}

			\switchcolumn \addtocontents{toc}{\protect\setcounter{tocdepth}{1}}
			\subsection*{Prowadzący:}
			\bf{\Large{\noindent \mbox{dr inż. Marcin Kowalczyk}}}
			\addtocontents{toc}{\protect\setcounter{tocdepth}{2}}

		\end{paracol}
		\vspace*{\stretch{6}}
		\begin{center}
			\bf{\large{Warszawa, \@date\vskip 0.1cm}}
		\end{center}
	\end{titlepage}
}
\makeatother
\maketitle

\tableofcontents

\chapter{Zakres i cel projektu}

\section{Cel projektu}
Celem projektu jest poprawne zaprojektowanie relacyjnej bazy danych oraz jej
fizyczna implementacja przy użyciu systemu Oracle. W trakcie projektowania należy
odpowiednio podzielić fazy projektowania na poziom konceptualny oraz logiczny a także 
doprowadzić projekt bazy do trzeciej postaci normalnej.

\section{Założenia projektowe}
Realizowany projekt dotyczy biurowego systemu obstawiania meczów
na dużych turniejach sportowych. System ten zajmuje się zbieraniem 
zakładów od swoich użytkowników oraz prowadzeniem statystyk. 
Oferuje swoim użytkownikom możliwość zakładania się na wyniki spotkań
grane w ramach uprzednio zdefiniowanych turniejów oraz podliczaniem 
wyników wedle ustalonego algorytmu punktowania.
\\ 
\\
\indent W tym celu, system prowadzi bazę danych która zbiera informacje o spotkaniach
oraz dostępnych turniejach. Każdy uczestnik gry próbuje przewidzieć dokładny wynik 
spotkania i w zależności od poprawności, otrzymuje $3$, $1$ albo $0$ punktów.
Trzy punkty gracz otrzymuje, gdy padnie dokładnie obstawiony przez niego wynik.
Gracz otrzymuje jeden punkt, gdy końcowy rezultat jest taki sam jak obstawiony z dokładnością
do zdobytych przez drużynę punktów. Przykładowo, gracz obstawił że meczu piłki
nożnej zakończy się rezultatem $3$:$1$ a mecz zakończył się wynikiem $4$:$2$. 
Gdy gracz nie trafi w rezultat, nie otrzymuje punktów.  
\\
\\
\indent W celu ułatwienia graczom podejmowanie decyzji, system oferuje szeroką gamę statystyk 
prowadzonych w ramach turniejów. Baza przechowuje informacje o nadchodzących spotkaniach 
pomiędzy dwoma drużynami, o zawodnikach występujących w tych drużynach, o sędziach 
przewidzianych do prowadzania danego spotkania a także o planowanym miejscu rozegrania spotkania.  
\\
\\
\indent Każdy użytkownik może grać niezależnie w kilku różnych turniejach i dodawać zakłady 
na dowolną ilość spotkań z takim zastrzeżeniem, że nie wolno dodać zakładu na 
rozpoczęte już spotkania. Dodatkowo, każdy turniej oferuje specjalne zakłady długoterminowe
dotyczące ostatecznego zwycięzcy i najbardziej wartościowego zawodnika turnieju. Zakłady 
te są warte odpowiednio więcej punktów. Po zakończeniu wszystkich spotkań z danego turnieju, wybierany 
jest zwycięzca na podstawie zdobytej liczby punktów. 


\chapter{Definicja systemu}

\section{Perspektywy użytkowników}
W ramach systemu zdefiniowaliśmy trzy typy potencjalnych użytkowników: \\
\begin{enumerate}
    \item Użytkownik - uczestnik gry, dodaje zakłady nierozpoczęte jeszcze spotkania w
    ramach turniejów na które się wcześniej zapisał\\ 

    \item Statystyk - moderator gry, dodaje informacje o drużynach, sędziach, stadionach i trenerach
    oraz na bieżąco uzupełnia wyniki spotkań i turniejów \\ 

    \item Administrator - główny moderator systemu, tworzy konta użytkownikom oraz przywraca dostępy \\
    
\end{enumerate}

\section{Zdefiniowane funkcjonalności}
Do zdefiniowania funkcjonalności posłużyliśmy się metodyką User Stories znanych z metodyki Agile. Wcieliśmy się 
w rolę każdego z użytkowników i opisaliśmy potrzebne funkcjonalności według znanego schematu:

\begin{center}
    \emph{Jako} osoba ..., \\ \emph{potrzebuję/chcę} takiej funkcjonalności ...,\\  \emph{ponieważ} pozwoli mi to ...  
\end{center}

Na podstawie tak opisanych funkcjonalności, w łatwy sposób mogliśmy zdefiniować potrzebne transakcje w systemie. Dodatkowo,
taki sposób opisu funkcjonalności już na etapie projektowania sprawdza ich przydatność.

\subsection{Użytkownik systemu}

\subsubsection{Zapis na turniej}
\emph{Jako użytkownik, potrzebuję mieć możliwość zapisania się na turniej, ponieważ wtedy będę mógł wziąć udział w grze.}

\subsubsection{Dodawanie zakładu na spotkanie}
\emph{Jako użytkownik, potrzebuję móc dodawać nowe zakłady na spotkania które jeszcze się nie rozpoczęły, ponieważ pozwoli mi to na zdobywanie punktów.}

\subsubsection{Edycja zakładu na spotkanie}
\emph{Jako użytkownik, potrzebuję móc edytować swoje zakłady na spotkania które jeszcze się nie rozpoczęły, ponieważ pozwoli mi to na zmianę zdania i poprawienie swojego zakładu.}

\subsubsection{Dodawanie zakładu długoterminowego}
\emph{Jako użytkownik, potrzebuję móc dodawać zakład długoterminowy na zwycięzce turnieju na który się zapisałem a który jeszcze się nie rozpoczął, ponieważ dzięki temu będę mógł zdobyć więcej punktów.}

\subsubsection{Edycja zakładu długoterminowego}
\emph{Jako użytkownik, potrzebuję móc edytować zakład długoterminowego na zwycięzce turnieju na który się zapisałem a który jeszcze się nie rozpoczął, ponieważ pozwoli mi to na zmianę zdania i poprawienie swojego zakładu.}

\subsubsection{Podgląd tabeli}
\emph{Jako użytkownik, potrzebuję móc sprawdzać który jestem w tabeli wyników, ponieważ potrzebuję informacji o ewentualnym zwycięstwie.}

\subsection{Statystyk}
\subsubsection{Dodawanie turniejów}
\emph{Jako statystyk, potrzebuję możliwości dodawania turniejów, ponieważ wtedy użytkownicy będą mogli się na nie zapisywać.}

\subsubsection{Dodawanie meczów}
\emph{Jako statystyk, potrzebuję możliwości dodawania meczów w ramach turniejów, ponieważ wtedy użytkownicy będą mogli się próbować obstawić ich wynik.}

\subsubsection{Dodawanie drużyn}
\emph{Jako statystyk, potrzebuję możliwości dodawania drużyn do systemu, ponieważ wtedy będę mógł je podpinać pod turnieje.}

\subsubsection{Podpinanie drużyn do turniejów}
\emph{Jako statystyk, potrzebuję możliwości dodawania drużyn jako uczestników turniejów, ponieważ wtedy będę mógł dodawać mecze do turniejów pomiędzy nimi.}

\subsubsection{Dodawanie stadionów}
\emph{Jako statystyk, potrzebuję możliwości dodawania stadionów do systemu, ponieważ wtedy będę mógł podpinać stadiony do meczów.}

\subsubsection{Podpinanie stadionów}
\emph{Jako statystyk, potrzebuję możliwości podpinania stadionów do meczów, ponieważ wtedy użytkownicy będą więcej wiedzieli o meczu co pozwoli im lepiej obstawić.}

\subsubsection{Dodawanie sędziów}
\emph{Jako statystyk, potrzebuję możliwości dodawania sędziów, ponieważ wtedy będę mógł podpinać sędziów głównych do spotkań.}

\subsubsection{Podpinanie sędziów}
\emph{Jako statystyk, potrzebuję możliwości podpinania sędziów do meczów, ponieważ wtedy użytkownicy będą więcej wiedzieli o meczu co pozwoli im lepiej obstawić.}

\subsubsection{Dodawanie wyników meczów}
\emph{Jako statystyk, potrzebuję możliwości dodawania wyników zakończonych już spotkań, ponieważ wtedy użytkownicy będą mogli zweryfikować swoje zakłady.}

\subsubsection{Dodawania zwycięzców turniejów}
\emph{Jako statystyk, potrzebuję możliwości dodawania zwycięzców turniejów, ponieważ wtedy użytkownicy będą mogli zweryfikować swoje zakłady długoterminowe.}


\subsection{Administrator}
\subsubsection{Dodawanie użytkowników}
\emph{Jako administrator, potrzebuję możliwości tworzenia kont dla użytkowników, ponieważ wtedy będą mogli wziąc udział w grze.}

\subsubsection{Zmiana hasła użytkownika}
\emph{Jako administrator, potrzebuję możliwości zmiany hasła użytkownika, ponieważ wtedy będę mógł przywrócić dostęp tym którzy zapomnieli hasła.}












\chapter{Model konceptualny}

\section{Definicja zbiorów encji określonych w projekcie}

\section{Ustalenie związków i ich typów między encjami}

\section{Określenie atrybutów i ich dziedzin}

\section{Dodatkowe reguły integralnościowe}

\section{Klucze kandydujące i główne}

\section{Schemat ER na poziomie konceptualnym}

\section{Problem pułapek szczelinowych i wachlarzowych – analiza i przykłady}



\chapter{Model logiczny}

\section{Charakterystyka modelu relacyjnego}

\section{Usunięcie właściwości niekompatybilnych z modelem relacyjnym}

\section{Proces normalizacji}

\subsection{Pierwsza postać normalna}
\subsection{Drugaa postać normalna}
\subsection{Trzecia postać normalna}


\section{Schemat ER na poziomie modelu logicznego}

\section{Więzy integralności}

\section{Proces denormalizacji}

\chapter{Faza fizyczna}

\section{Projekt transakcji i weryfikacja ich wykonalności}

\section{Strojenie bazy danych – dobór indeksów}

\section{Skrypt SQL zakładający bazę danych}

\section{Przykłady zapytań i poleceń SQL odnoszących się do bazy danych}

\end{document}